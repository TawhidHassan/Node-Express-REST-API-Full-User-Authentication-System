let cors,consola,express,mongoose,passport,json,DB,userApis;_cf9‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_cf9‍.w("consola",[["default",["consola"],function(v){consola=v}]]);_cf9‍.w("express",[["default",["express"],function(v){express=v}]]);_cf9‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_cf9‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_cf9‍.w("body-parser",[["json",["json"],function(v){json=v}]]);_cf9‍.w("./constants",[["DB",["DB"],function(v){DB=v}]]);_cf9‍.w("./apis/user",[["default",["userApis"],function(v){userApis=v}]]);







// Import Application Constants

const PORT=5000;
// Router imports


// Import passport middleware
require("./middlewares/passport-middleware");

// Initialize express application
const app = express();

// Apply Application Middlewares
app.use(cors());
app.use(json());
app.use(passport.initialize());
// Inject Sub router and apis
app.use('/users',userApis);

const main =  () => {
  try {
    // Connect with the database
     mongoose.connect(DB, {
        //must add in order to not get any error masseges:
        useUnifiedTopology:true,
        useNewUrlParser: true,
        useCreateIndex: true
    });
    consola.success("DATABASE CONNECTED...");
    // Start application listening for request on server
    app.listen(PORT, () => consola.success(`Sever started on port ${PORT}`));
  } catch (err) {
    consola.error(`Unable to start the server \n${err.message}`);
  }
};

main();